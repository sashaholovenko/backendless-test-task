{"version":3,"file":"static/js/930.b5893869.chunk.js","mappings":"mHAKAA,EAAOC,QALP,SAA2BC,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAC/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAAKC,EAAKD,GAAKH,EAAIG,GACnE,OAAOC,CACT,EACoCN,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCFzGD,EAAOC,QAHP,SAAyBC,GACvB,GAAIK,MAAME,QAAQP,GAAM,OAAOA,CACjC,EACkCF,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCHvG,IAAIS,EAAmB,EAAQ,OAI/BV,EAAOC,QAHP,SAA4BC,GAC1B,GAAIK,MAAME,QAAQP,GAAM,OAAOQ,EAAiBR,EAClD,EACqCF,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCE1GD,EAAOC,QANP,SAAgCU,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAE3B,OAAOD,CACT,EACyCX,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCD9GD,EAAOC,QALP,SAAyBY,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,oCAExB,EACkCf,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,uBCLvG,IAAIe,EAAiB,EAAQ,MACzBC,EAA2B,EAAQ,OACvC,SAASC,EAAWC,EAAQC,EAAMC,GAahC,OAZIJ,KACFjB,EAAOC,QAAUiB,EAAaI,QAAQC,UAAUC,OAAQxB,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,UAE7HD,EAAOC,QAAUiB,EAAa,SAAoBC,EAAQC,EAAMC,GAC9D,IAAII,EAAI,CAAC,MACTA,EAAEC,KAAKC,MAAMF,EAAGL,GAChB,IACIP,EAAW,IADGe,SAASJ,KAAKG,MAAMR,EAAQM,IAG9C,OADIJ,GAAOL,EAAeH,EAAUQ,EAAMQ,WACnChB,CACT,EAAGb,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,SAEnEiB,EAAWS,MAAM,KAAMG,UAChC,CACA9B,EAAOC,QAAUiB,EAAYlB,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCjBlG,IAAI8B,EAAgB,EAAQ,OAC5B,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAI7B,EAAI,EAAGA,EAAI6B,EAAM9B,OAAQC,IAAK,CACrC,IAAI8B,EAAaD,EAAM7B,GACvB8B,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeP,EAAQF,EAAcI,EAAWM,KAAMN,EAC/D,CACF,CASAnC,EAAOC,QARP,SAAsBa,EAAa4B,EAAYC,GAM7C,OALID,GAAYV,EAAkBlB,EAAYe,UAAWa,GACrDC,GAAaX,EAAkBlB,EAAa6B,GAChDJ,OAAOC,eAAe1B,EAAa,YAAa,CAC9CwB,UAAU,IAELxB,CACT,EAC+Bd,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBClBpG,IAAI2C,EAAiB,EAAQ,OACzB3B,EAA2B,EAAQ,OACnC4B,EAA4B,EAAQ,OAexC7C,EAAOC,QAdP,SAAsB6C,GACpB,IAAIC,EAA4B9B,IAChC,OAAO,WACL,IACE+B,EADEC,EAAQL,EAAeE,GAE3B,GAAIC,EAA2B,CAC7B,IAAIG,EAAYN,EAAeO,MAAMC,YACrCJ,EAAS1B,QAAQC,UAAU0B,EAAOnB,UAAWoB,EAC/C,MACEF,EAASC,EAAMtB,MAAMwB,KAAMrB,WAE7B,OAAOe,EAA0BM,KAAMH,EACzC,CACF,EAC+BhD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCjBpG,IAAI8B,EAAgB,EAAQ,OAe5B/B,EAAOC,QAdP,SAAyBoD,EAAKZ,EAAKa,GAYjC,OAXAb,EAAMV,EAAcU,MACTY,EACTd,OAAOC,eAAea,EAAKZ,EAAK,CAC9Ba,MAAOA,EACPlB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZe,EAAIZ,GAAOa,EAEND,CACT,EACkCrD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCfvG,SAASsD,EAAgBC,GAIvB,OAHAxD,EAAOC,QAAUsD,EAAkBhB,OAAOvB,eAAiBuB,OAAOK,eAAepB,OAAS,SAAyBgC,GACjH,OAAOA,EAAEC,WAAalB,OAAOK,eAAeY,EAC9C,EAAGxD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,QACjEsD,EAAgBC,EACzB,CACAxD,EAAOC,QAAUsD,EAAiBvD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCNvG,IAAIe,EAAiB,EAAQ,MAiB7BhB,EAAOC,QAhBP,SAAmByD,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI5C,UAAU,sDAEtB2C,EAAS7B,UAAYU,OAAOqB,OAAOD,GAAcA,EAAW9B,UAAW,CACrEuB,YAAa,CACXE,MAAOI,EACPpB,UAAU,EACVD,cAAc,KAGlBE,OAAOC,eAAekB,EAAU,YAAa,CAC3CpB,UAAU,IAERqB,GAAY3C,EAAe0C,EAAUC,EAC3C,EAC4B3D,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCVjGD,EAAOC,QAPP,SAA2B4D,GACzB,IACE,OAAgE,IAAzDjC,SAASkC,SAASC,KAAKF,GAAIG,QAAQ,gBAC5C,CAAE,MAAOC,GACP,MAAqB,oBAAPJ,CAChB,CACF,EACoC7D,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCIzGD,EAAOC,QAXP,WACE,GAAuB,qBAAZqB,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAU2C,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EACxC,IAEE,OADAC,QAAQvC,UAAUwC,QAAQN,KAAKzC,QAAQC,UAAU6C,QAAS,IAAI,WAAa,MACpE,CACT,CAAE,MAAOH,GACP,OAAO,CACT,CACF,EAC4CjE,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCRjHD,EAAOC,QAHP,SAA0BqE,GACxB,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAO/D,MAAMkE,KAAKH,EACtH,EACmCtE,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCwBxGD,EAAOC,QA3BP,SAA+ByE,EAAGC,GAChC,IAAIC,EAAI,MAAQF,EAAI,KAAO,oBAAsBH,QAAUG,EAAEH,OAAOC,WAAaE,EAAE,cACnF,GAAI,MAAQE,EAAG,CACb,IAAIX,EACFY,EACAxE,EACAyE,EACArD,EAAI,GACJsD,GAAI,EACJvB,GAAI,EACN,IACE,GAAInD,GAAKuE,EAAIA,EAAEb,KAAKW,IAAIM,KAAM,IAAML,EAAG,CACrC,GAAIpC,OAAOqC,KAAOA,EAAG,OACrBG,GAAI,CACN,MAAO,OAASA,GAAKd,EAAI5D,EAAE0D,KAAKa,IAAIK,QAAUxD,EAAEC,KAAKuC,EAAEX,OAAQ7B,EAAErB,SAAWuE,GAAII,GAAI,GACtF,CAAE,MAAOL,GACPlB,GAAI,EAAIqB,EAAIH,CACd,CAAE,QACA,IACE,IAAKK,GAAK,MAAQH,EAAU,SAAME,EAAIF,EAAU,SAAKrC,OAAOuC,KAAOA,GAAI,MACzE,CAAE,QACA,GAAItB,EAAG,MAAMqB,CACf,CACF,CACA,OAAOpD,CACT,CACF,EACwCzB,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCxB7GD,EAAOC,QAHP,WACE,MAAM,IAAIc,UAAU,4IACtB,EACmCf,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCAxGD,EAAOC,QAHP,WACE,MAAM,IAAIc,UAAU,uIACtB,EACqCf,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCH1G,IAAIuC,EAAiB,EAAQ,OAC7B,SAAS0C,EAAQjB,EAAGS,GAClB,IAAIE,EAAIrC,OAAO4C,KAAKlB,GACpB,GAAI1B,OAAO6C,sBAAuB,CAChC,IAAI5B,EAAIjB,OAAO6C,sBAAsBnB,GACrCS,IAAMlB,EAAIA,EAAE6B,QAAO,SAAUX,GAC3B,OAAOnC,OAAO+C,yBAAyBrB,EAAGS,GAAGtC,UAC/C,KAAKwC,EAAElD,KAAKC,MAAMiD,EAAGpB,EACvB,CACA,OAAOoB,CACT,CAYA5E,EAAOC,QAXP,SAAwBgE,GACtB,IAAK,IAAIS,EAAI,EAAGA,EAAI5C,UAAU1B,OAAQsE,IAAK,CACzC,IAAIE,EAAI,MAAQ9C,UAAU4C,GAAK5C,UAAU4C,GAAK,CAAC,EAC/CA,EAAI,EAAIQ,EAAQ3C,OAAOqC,IAAI,GAAIW,SAAQ,SAAUb,GAC/ClC,EAAeyB,EAAGS,EAAGE,EAAEF,GACzB,IAAKnC,OAAOiD,0BAA4BjD,OAAOkD,iBAAiBxB,EAAG1B,OAAOiD,0BAA0BZ,IAAMM,EAAQ3C,OAAOqC,IAAIW,SAAQ,SAAUb,GAC7InC,OAAOC,eAAeyB,EAAGS,EAAGnC,OAAO+C,yBAAyBV,EAAGF,GACjE,GACF,CACA,OAAOT,CACT,EACiCjE,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCtBtG,IAAIyF,EAAU,iBACVC,EAAwB,EAAQ,OASpC3F,EAAOC,QARP,SAAoCU,EAAMoD,GACxC,GAAIA,IAA2B,WAAlB2B,EAAQ3B,IAAsC,oBAATA,GAChD,OAAOA,EACF,QAAa,IAATA,EACT,MAAM,IAAIhD,UAAU,4DAEtB,OAAO4E,EAAsBhF,EAC/B,EAC6CX,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,mBCVlH,SAAS2F,EAAgBpC,EAAGqC,GAK1B,OAJA7F,EAAOC,QAAU2F,EAAkBrD,OAAOvB,eAAiBuB,OAAOvB,eAAeQ,OAAS,SAAyBgC,EAAGqC,GAEpH,OADArC,EAAEC,UAAYoC,EACPrC,CACT,EAAGxD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,QACjE2F,EAAgBpC,EAAGqC,EAC5B,CACA7F,EAAOC,QAAU2F,EAAiB5F,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCPvG,IAAI6F,EAAiB,EAAQ,OACzBC,EAAuB,EAAQ,OAC/BC,EAA6B,EAAQ,OACrCC,EAAkB,EAAQ,OAI9BjG,EAAOC,QAHP,SAAwBC,EAAKG,GAC3B,OAAOyF,EAAe5F,IAAQ6F,EAAqB7F,EAAKG,IAAM2F,EAA2B9F,EAAKG,IAAM4F,GACtG,EACiCjG,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,sBCPtG,IAAIiG,EAAoB,EAAQ,OAC5BC,EAAkB,EAAQ,OAC1BH,EAA6B,EAAQ,OACrCI,EAAoB,EAAQ,OAIhCpG,EAAOC,QAHP,SAA4BC,GAC1B,OAAOgG,EAAkBhG,IAAQiG,EAAgBjG,IAAQ8F,EAA2B9F,IAAQkG,GAC9F,EACqCpG,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCP1G,IAAIyF,EAAU,iBAWd1F,EAAOC,QAVP,SAAsBoG,EAAOC,GAC3B,GAAuB,WAAnBZ,EAAQW,IAAiC,OAAVA,EAAgB,OAAOA,EAC1D,IAAIE,EAAOF,EAAM9B,OAAOiC,aACxB,QAAaC,IAATF,EAAoB,CACtB,IAAIG,EAAMH,EAAKxC,KAAKsC,EAAOC,GAAQ,WACnC,GAAqB,WAAjBZ,EAAQgB,GAAmB,OAAOA,EACtC,MAAM,IAAI3F,UAAU,+CACtB,CACA,OAAiB,WAATuF,EAAoBK,OAASC,QAAQP,EAC/C,EAC+BrG,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCXpG,IAAIyF,EAAU,iBACVc,EAAc,EAAQ,OAK1BxG,EAAOC,QAJP,SAAwB4G,GACtB,IAAIpE,EAAM+D,EAAYK,EAAK,UAC3B,MAAwB,WAAjBnB,EAAQjD,GAAoBA,EAAMkE,OAAOlE,EAClD,EACiCzC,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,oBCNtG,SAASyF,EAAQlC,GAGf,OAAQxD,EAAOC,QAAUyF,EAAU,mBAAqBnB,QAAU,iBAAmBA,OAAOC,SAAW,SAAUhB,GAC/G,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,mBAAqBe,QAAUf,EAAEJ,cAAgBmB,QAAUf,IAAMe,OAAO1C,UAAY,gBAAkB2B,CACpH,EAAGxD,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,QAAUyF,EAAQlC,EAC5F,CACAxD,EAAOC,QAAUyF,EAAS1F,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCT/F,IAAIS,EAAmB,EAAQ,OAS/BV,EAAOC,QARP,SAAqCuD,EAAGsD,GACtC,GAAKtD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO9C,EAAiB8C,EAAGsD,GACtD,IAAIjC,EAAItC,OAAOV,UAAUiC,SAASC,KAAKP,GAAGuD,MAAM,GAAI,GAEpD,MADU,WAANlC,GAAkBrB,EAAEJ,cAAayB,EAAIrB,EAAEJ,YAAY4D,MAC7C,QAANnC,GAAqB,QAANA,EAAoBtE,MAAMkE,KAAKjB,GACxC,cAANqB,GAAqB,2CAA2CoC,KAAKpC,GAAWnE,EAAiB8C,EAAGsD,QAAxG,CALc,CAMhB,EAC8C9G,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,wBCTnH,IAAI2C,EAAiB,EAAQ,OACzB5B,EAAiB,EAAQ,MACzBkG,EAAmB,EAAQ,OAC3B3F,EAAY,EAAQ,MACxB,SAAS4F,EAAiB9F,GACxB,IAAI+F,EAAwB,oBAARC,IAAqB,IAAIA,SAAQZ,EAuBrD,OAtBAzG,EAAOC,QAAUkH,EAAmB,SAA0B9F,GAC5D,GAAc,OAAVA,IAAmB6F,EAAiB7F,GAAQ,OAAOA,EACvD,GAAqB,oBAAVA,EACT,MAAM,IAAIN,UAAU,sDAEtB,GAAsB,qBAAXqG,EAAwB,CACjC,GAAIA,EAAOE,IAAIjG,GAAQ,OAAO+F,EAAOG,IAAIlG,GACzC+F,EAAOI,IAAInG,EAAOoG,EACpB,CACA,SAASA,IACP,OAAOlG,EAAUF,EAAOS,UAAWc,EAAeO,MAAMC,YAC1D,CASA,OARAqE,EAAQ5F,UAAYU,OAAOqB,OAAOvC,EAAMQ,UAAW,CACjDuB,YAAa,CACXE,MAAOmE,EACPrF,YAAY,EACZE,UAAU,EACVD,cAAc,KAGXrB,EAAeyG,EAASpG,EACjC,EAAGrB,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,QACjEkH,EAAiB9F,EAC1B,CACArB,EAAOC,QAAUkH,EAAkBnH,EAAOC,QAAQO,YAAa,EAAMR,EAAOC,QAAiB,QAAID,EAAOC,O,o2CCnBjG,SAASyH,EACfC,GAES,IADTC,EAAsC9F,UAAA1B,OAAA,QAAAqG,IAAA3E,UAAA,GAAAA,UAAA,GAAG,CAAC,EAEtC+F,GAAcC,EAAAA,EAAAA,IAAYH,EAAM,oBAClCI,KAAI,SAACC,GACL,OAAOC,EAAAA,EAAAA,GAAuBD,EAAOE,EAAAA,EAAA,GACjCN,GAAO,IACVO,QAAS,gBAEX,IACCC,KAAK,KAOP,GAAoB,KAAhBP,EAAoB,CACvB,IAAMQ,EAAQV,EAAKW,aAAa,SAChCT,EAAwB,OAAVQ,EAAiB,GAAKA,CACrC,CAEA,OAAOR,CACR,C,qEC/BA,IAAMU,EAAQhG,OAAOV,UAAUiC,SAC/B,SAAS0E,EAAW3E,GACnB,MAAqB,oBAAPA,GAAwC,sBAAnB0E,EAAMxE,KAAKF,EAC/C,CAWA,IAAM4E,EAAiBC,KAAKC,IAAI,EAAG,IAAM,EACzC,SAASC,EAAStF,GACjB,IAAMnD,EAZP,SAAmBmD,GAClB,IAAMuF,EAASjC,OAAOtD,GACtB,OAAIwF,MAAMD,GACF,EAEO,IAAXA,GAAiBE,SAASF,IAGtBA,EAAS,EAAI,GAAK,GAAKH,KAAKM,MAAMN,KAAKO,IAAIJ,IAF3CA,CAGT,CAGaK,CAAU5F,GACtB,OAAOoF,KAAKS,IAAIT,KAAKU,IAAIjJ,EAAK,GAAIsI,EACnC,CAYe,SAASY,EACvBC,EACAC,GAIA,IAAMC,EAAIjJ,MAGJkJ,EAAQlH,OAAO+G,GAGrB,GAAiB,MAAbA,EACH,MAAM,IAAIvI,UACT,oEAOF,GAAqB,qBAAVwI,IAGLf,EAAWe,GACf,MAAM,IAAIxI,UACT,qEAmBH,IAZA,IAWI2I,EAXEvJ,EAAMyI,EAASa,EAAMrJ,QAMrBuJ,EAAInB,EAAWgB,GAAKjH,OAAO,IAAIiH,EAAErJ,IAAQ,IAAII,MAAMJ,GAGrDyJ,EAAI,EAGDA,EAAIzJ,GACVuJ,EAASD,EAAMG,GAEdD,EAAEC,GADCL,EACIA,EAAMG,EAAQE,GAEdF,EAERE,GAAK,EAKN,OAFAD,EAAEvJ,OAASD,EAEJwJ,CACR,C,otBCzEA,IACME,EAAO,WAGZ,SAAAA,IAA6B,I,MAAjBJ,EAAU3H,UAAA1B,OAAA,QAAAqG,IAAA3E,UAAA,GAAAA,UAAA,GAAG,I,4FAAEgI,CAAA,KAAAD,G,EAAA,K,OAAA,G,MAAA,Y,wFAC1B1G,KAAKsG,MAAQA,CACd,C,UA4BC,O,EA5BAI,G,EAAA,EAAApH,IAAA,MAAAa,MAED,SAAIA,GAIH,OAHwB,IAApBH,KAAKmE,IAAIhE,IACZH,KAAKsG,MAAM/H,KAAK4B,GAEVH,IACR,GAAC,CAAAV,IAAA,QAAAa,MACD,WACCH,KAAKsG,MAAQ,EACd,GAAC,CAAAhH,IAAA,SAAAa,MACD,SAAOA,GACN,IAAMyG,EAAiB5G,KAAKsG,MAAMrJ,OAGlC,OAFA+C,KAAKsG,MAAQtG,KAAKsG,MAAMpE,QAAO,SAAC2E,GAAI,OAAKA,IAAS1G,CAAK,IAEhDyG,IAAmB5G,KAAKsG,MAAMrJ,MACtC,GAAC,CAAAqC,IAAA,UAAAa,MACD,SAAQ2G,GAA8D,IAAAC,EAAA,KACrE/G,KAAKsG,MAAMlE,SAAQ,SAACyE,GACnBC,EAAWD,EAAMA,EAAME,EACxB,GACD,GAAC,CAAAzH,IAAA,MAAAa,MACD,SAAIA,GACH,OAAsC,IAA/BH,KAAKsG,MAAMzF,QAAQV,EAC3B,GAAC,CAAAb,IAAA,OAAA8E,IAED,WACC,OAAOpE,KAAKsG,MAAMrJ,MACnB,M,8EAACyJ,CAAA,CAjCW,GAoCb,EAA8B,qBAARM,IAAsBA,IAAMN,E,UC6ClD,SAASO,EAAgBC,EAAYC,GACpC,KAAKC,EAAAA,EAAAA,IAAUF,GACd,OAAO,EAGR,GACM,UADEC,EAEN,OAAOE,EAAAA,EAAAA,IAAoBH,EAAM,CAChC,QACA,cACA,YACA,SACA,eAGD,MAAM,IAAItJ,UAAU,qCAAD0J,OACmBH,EAAI,8BAG7C,CAOA,SAASI,EACR1C,EACA2C,GAEA,IAAMC,EAAWC,EAAU7C,EAAQ8C,iBAAiBH,IAOpD,OALA7C,EAAAA,EAAAA,IAAYE,EAAS,aAAazC,SAAQ,SAACoC,GAE1CiD,EAASlJ,KAAKC,MAAMiJ,EAAUC,EAAUlD,EAAKmD,iBAAiBH,IAC/D,IAEOC,CACR,CA8EA,SAASG,EAAkBC,GAC1B,IAAMC,EAAUD,EAAYE,iBAAiB,WAC7C,MAAI,eAAejE,KAAKgE,GAChBA,EAAQlE,MAAM,GAAI,GAEnB,EACR,CAOA,SAASoE,EAAmBnD,GAC3B,IAAMoD,GAAYC,EAAAA,EAAAA,IAAarD,GAE/B,MACe,WAAdoD,GACe,UAAdA,GAA0D,WAAjCpD,EAAQM,aAAa,SACjC,UAAd8C,GACc,WAAdA,GACc,aAAdA,GACc,WAAdA,GACc,aAAdA,CAEF,CAOA,SAASE,EAAqBtD,GAC7B,GAAImD,EAAmBnD,GACtB,OAAOA,EAER,IAAIuD,EAAmC,KAUvC,OATAvD,EAAQwD,WAAWjG,SAAQ,SAACkG,GAC3B,GAAyB,OAArBF,IAA6BhB,EAAAA,EAAAA,IAAUkB,GAAY,CACtD,IAAMC,EAA6BJ,EAAqBG,GACrB,OAA/BC,IACHH,EAAmBG,EAErB,CACD,IAEOH,CACR,CAOA,SAASI,EAAkBC,GAC1B,QAAsBnF,IAAlBmF,EAAMC,QACT,OAAOD,EAAMC,QAGd,IAAMC,EAAUF,EAAMtD,aAAa,OACnC,OAAgB,OAAZwD,EACIF,EAAMG,cAAcC,eAAeF,GAGpCR,EAAqBM,EAC7B,CAoDO,SAAS3D,EACfN,GAES,IADTC,EAAsC9F,UAAA1B,OAAA,QAAAqG,IAAA3E,UAAA,GAAAA,UAAA,GAAG,CAAC,EAEpCmK,EAAiB,IAAIpC,EAErBqC,GAASC,EAAAA,EAAAA,IAAWxE,GAC1ByE,EAUIxE,EATHO,QAAAA,OAAO,IAAAiE,EAAG,OAAMA,EAAAC,EASbzE,EARH0E,oCAAAA,OAAmC,IAAAD,OAClC5F,IADqCmB,EAAQ2E,iBACpCF,EAAAG,EAOP5E,EAFH2E,iBAAAA,OAAgB,IAAAC,EAAGN,EAAOK,iBAAiB/K,KAAK0K,GAAOM,EAAAC,EAEpD7E,EADH8E,OAAAA,OAAM,IAAAD,GAAQA,EAIf,SAASE,EACRtC,EACAuC,GAEA,IAAIC,EAAkB,GACtB,IAAItC,EAAAA,EAAAA,IAAUF,IAASiC,EAAqC,CAC3D,IACMQ,EAAgB/B,EADDwB,EAAiBlC,EAAM,aAE5CwC,EAAkB,GAAHpC,OAAMqC,EAAa,KAAArC,OAAIoC,EACvC,CAuBA,KAnBmBE,EAAAA,EAAAA,IAAkB1C,GAnDvC,SAAyB2C,GAIxB,IAAMC,EAAgBD,EAAKC,gBAC3B,OAA6B,IAAzBA,EAAc7M,OAEVyK,EAAUmC,EAAKxB,YAEhByB,CACR,CA0CKC,CAAgB7C,GAChBQ,EAAUR,EAAKmB,YAAYf,QAAO3C,EAAAA,EAAAA,IAAYuC,EAAM,eAC5C9E,SAAQ,SAAC4H,GACnB,IAAMnK,EAASiF,EAAuBkF,EAAO,CAC5CC,kBAAmBR,EAAQQ,kBAC3BC,cAAc,EACdC,WAAW,IAONC,EAAwB,aAHdhD,EAAAA,EAAAA,IAAU4C,GACvBZ,EAAiBY,GAAOjC,iBAAiB,WACzC,UACsC,IAAM,GAE/C2B,GAAmB,GAAJpC,OAAO8C,GAAS9C,OAAGzH,GAAMyH,OAAG8C,EAC5C,KAEIhD,EAAAA,EAAAA,IAAUF,IAASiC,EAAqC,CAC3D,IACMkB,EAAezC,EADDwB,EAAiBlC,EAAM,YAE3CwC,EAAkB,GAAHpC,OAAMoC,EAAe,KAAApC,OAAI+C,EACzC,CAEA,OAAOX,EAAgBY,MACxB,CAQA,SAASC,EACR1F,EACA2F,GAEA,IAAMC,EAAY5F,EAAQ6F,iBAAiBF,GAC3C,OACe,OAAdC,GACC3B,EAAe3E,IAAIsG,IACO,KAA3BA,EAAUtK,MAAMmK,OAKV,MAHNxB,EAAe6B,IAAIF,GACZA,EAAUtK,MAGnB,CAUA,SAASyK,EAA8B1D,GACtC,KAAKE,EAAAA,EAAAA,IAAUF,GACd,OAAO,KAIR,IAAI2D,EAAAA,EAAAA,IAAsB3D,GAAO,CAChC4B,EAAe6B,IAAIzD,GAEnB,IADA,IAAM4D,EAAWpD,EAAUR,EAAKmB,YACvBnL,EAAI,EAAGA,EAAI4N,EAAS7N,OAAQC,GAAK,EAAG,CAC5C,IAAM8M,EAAQc,EAAS5N,GACvB,IAAI6N,EAAAA,EAAAA,IAAoBf,GACvB,OAAOlF,EAAuBkF,EAAO,CACpCC,mBAAmB,EACnBC,cAAc,EACdC,WAAW,GAGd,CACD,MAAO,IAAIa,EAAAA,EAAAA,IAAmB9D,GAAO,CAEpC4B,EAAe6B,IAAIzD,GAEnB,IADA,IAAM+D,EAAWvD,EAAUR,EAAKmB,YACvB6C,EAAI,EAAGA,EAAID,EAAShO,OAAQiO,GAAK,EAAG,CAC5C,IAAMC,EAAQF,EAASC,GACvB,IAAIE,EAAAA,EAAAA,IAA0BD,GAC7B,OAAOrG,EAAuBqG,EAAO,CACpClB,mBAAmB,EACnBC,cAAc,EACdC,WAAW,GAGd,CACD,KAAO,KAAIkB,EAAAA,EAAAA,IAAgBnE,GAAO,CAEjC4B,EAAe6B,IAAIzD,GAEnB,IADA,IAAMoE,EAAW5D,EAAUR,EAAKmB,YACvBkD,EAAI,EAAGA,EAAID,EAASrO,OAAQsO,GAAK,EAAG,CAC5C,IAAMC,EAAQF,EAASC,GACvB,IAAIE,EAAAA,EAAAA,IAAkBD,GACrB,OAAOA,EAAME,WAEf,CACA,OAAO,IACR,CAAO,GAA2B,SAAvBxD,EAAAA,EAAAA,IAAahB,IAA0C,UAAvBgB,EAAAA,EAAAA,IAAahB,GAAkB,CAGzE,IAAMyE,EAAcpB,EAAarD,EAAM,OACvC,GAAoB,OAAhByE,EACH,OAAOA,CAET,MAAO,IAAIC,EAAAA,EAAAA,IAAsB1E,GAAO,CACvC,IAAM2E,EAAgBtB,EAAarD,EAAM,SACzC,GAAsB,OAAlB2E,EACH,OAAOA,CAET,EAEA,IACCC,EAAAA,EAAAA,IAAmB5E,KACJ,WAAdA,EAAK6E,MACS,WAAd7E,EAAK6E,MACS,UAAd7E,EAAK6E,MACL,CAED,IAAMC,EAAgBzB,EAAarD,EAAM,SACzC,GAAsB,OAAlB8E,EACH,OAAOA,EAIR,GAAkB,WAAd9E,EAAK6E,KACR,MAAO,SAGR,GAAkB,UAAd7E,EAAK6E,KACR,MAAO,OAET,CAEA,IAAME,EAxNR,SAAmBpH,GAClB,IAAMqH,EAAkBrH,EAA6BoH,OAIrD,OAAuB,OAAnBC,EACIA,OAEe5I,IAAnB4I,EACIxE,EAAUwE,GAIblE,EAAmBnD,GAKjB6C,EAFU7C,EAAQ+D,cAECjB,iBAAiB,UAAUzF,QAAO,SAACuG,GAC5D,OAAOD,EAAkBC,KAAW5D,CACrC,IANQ,IAOT,CAmMiBsH,CAAUjF,GACzB,GAAe,OAAX+E,GAAqC,IAAlBA,EAAOhP,OAE7B,OADA6L,EAAe6B,IAAIzD,GACZQ,EAAUuE,GACfrH,KAAI,SAACC,GACL,OAAOC,EAAuBD,EAAS,CACtCoF,mBAAmB,EACnBC,cAAc,EACdC,WAAW,GAEb,IACCjI,QAAO,SAACuG,GACR,OAAOA,EAAMxL,OAAS,CACvB,IACCgI,KAAK,KAMR,IAAI6G,EAAAA,EAAAA,IAAmB5E,IAAuB,UAAdA,EAAK6E,KAAkB,CACtD,IAAMK,EAAc7B,EAAarD,EAAM,OACvC,GAAoB,OAAhBkF,EACH,OAAOA,EAGR,IAAMC,EAAgB9B,EAAarD,EAAM,SACzC,OAAsB,OAAlBmF,EACIA,EAID,cACR,CAEA,IAAIhF,EAAAA,EAAAA,IAAoBH,EAAM,CAAC,WAAY,CAE1C,IAAMoF,EAAkB9C,EAA2BtC,EAAM,CACxD+C,mBAAmB,EACnBC,cAAc,IAEf,GAAwB,KAApBoC,EACH,OAAOA,CAET,CAEA,OAAO,IACR,CAEA,SAASxH,EACRyH,EACA9C,GAMA,GAAIX,EAAe3E,IAAIoI,GACtB,MAAO,GAIR,IACEhD,GApfJ,SACCrC,EACAsF,GAEA,KAAKpF,EAAAA,EAAAA,IAAUF,GACd,OAAO,EAGR,GACCA,EAAKuF,aAAa,WACmB,SAArCvF,EAAK/B,aAAa,eAElB,OAAO,EAGR,IAAMuH,EAAQF,EAA+BtF,GAC7C,MACuC,SAAtCwF,EAAM3E,iBAAiB,YACkB,WAAzC2E,EAAM3E,iBAAiB,aAEzB,CAieG4E,CAASJ,EAASnD,KACjBK,EAAQS,aAGT,OADApB,EAAe6B,IAAI4B,GACZ,GAIR,IAAMK,GAAqBxF,EAAAA,EAAAA,IAAUmF,GAClCA,EAAQ7B,iBAAiB,mBACzB,KAEGmC,EACkB,OAAvBD,GAAgC9D,EAAe3E,IAAIyI,GAEhD,IADAjI,EAAAA,EAAAA,IAAY4H,EAAS,mBAEzB,GACa,SAAZvH,IACCyE,EAAQS,cACT2C,EAAc5P,OAAS,EAKvB,OAFA6L,EAAe6B,IAAIiC,GAEZC,EACLjI,KAAI,SAACC,GAEL,OAAOC,EAAuBD,EAAS,CACtCoF,kBAAmBR,EAAQQ,kBAC3BC,cAAc,EAIdC,WAAW,GAEb,IACClF,KAAK,KAMR,IArgBiBiC,EAmHQrC,EApEGiI,EAsdtBC,EACLtD,EAAQU,YAtgBQjD,EAsgBeqF,GApgBhClF,EAAAA,EAAAA,IAAoBH,EAAM,CAAC,SAAU,WAAY,UAAW,aAC5DD,EAAgBC,EAAM,WAmgBkC,SAAZlC,EAC5C,IAAK+H,EAAc,CAClB,IAAMC,IACJ5F,EAAAA,EAAAA,IAAUmF,IAAYA,EAAQpH,aAAa,eAC5C,IACCmF,OACF,GAAkB,KAAd0C,GAAgC,SAAZhI,EAEvB,OADA8D,EAAe6B,IAAI4B,GACZS,EAIR,IAzdH,SAAgC9F,GAC/B,OAAOG,EAAAA,EAAAA,IAAoBH,EAAM,CAAC,OAAQ,gBAC3C,CAudQ+F,CAAuBV,GAAU,CACrC,IAAMW,EAAyBtC,EAA8B2B,GAC7D,GAA+B,OAA3BW,EAEH,OADApE,EAAe6B,IAAI4B,GACZW,CAET,CACD,CAIA,IAAI7F,EAAAA,EAAAA,IAAoBkF,EAAS,CAAC,SAEjC,OADAzD,EAAe6B,IAAI4B,GACZ,GAIR,GAAIQ,GAAgBtD,EAAQQ,mBAAqBR,EAAQS,aAAc,CACtE,IAAI7C,EAAAA,EAAAA,IAAoBkF,EAAS,CAAC,WAAY,YAAa,CAC1DzD,EAAe6B,IAAI4B,GACnB,IAAMY,GAvfoBL,EAufmBP,GAtf5Ca,EAAAA,EAAAA,IAAoBN,GAGtBA,EAAQK,iBAAmB5F,EAAwBuF,EAAS,cAGvDvF,EAAwBuF,EAAS,2BAifrC,OAA+B,IAA3BK,EAAgBlQ,QAEZ6O,EAAAA,EAAAA,IAAmBS,GAAWA,EAAQpM,MAAQ,GAE/CuH,EAAUyF,GACfvI,KAAI,SAACyI,GACL,OAAOvI,EAAuBuI,EAAgB,CAC7CpD,kBAAmBR,EAAQQ,kBAC3BC,cAAc,EACdC,WAAW,GAEb,IACClF,KAAK,IACR,CACA,GAAIgC,EAAgBsF,EAAS,SAE5B,OADAzD,EAAe6B,IAAI4B,GACfA,EAAQE,aAAa,kBAEjBF,EAAQpH,aAAa,kBAEzBoH,EAAQE,aAAa,iBAEjBF,EAAQpH,aAAa,iBAGtBoH,EAAQpH,aAAa,UAAY,GAEzC,IAAIkC,EAAAA,EAAAA,IAAoBkF,EAAS,CAAC,YAEjC,OADAzD,EAAe6B,IAAI4B,GAhdI1H,EAidE0H,GAhdxBT,EAAAA,EAAAA,IAAmBjH,KAAYyI,EAAAA,EAAAA,IAAsBzI,GACjDA,EAAQ1E,MAGT0E,EAAQ6G,aAAe,EA8c7B,CAGA,GAzfF,SAA+BxE,GAC9B,OAAOG,EAAAA,EAAAA,IAAoBH,EAAM,CAChC,SACA,OACA,WACA,eACA,WACA,UACA,QACA,SACA,OACA,WACA,mBACA,gBACA,SACA,QACA,MACA,YACA,SACA,MACA,UACA,YAEF,CAmeGqG,CAAsBhB,KACrBnF,EAAAA,EAAAA,IAAUmF,IAAY9C,EAAQS,cApgBlC,SACChD,GAEA,OAAOkE,EAAAA,EAAAA,IAA0BlE,EAClC,CAigBGsG,CAA2CjB,GAE1C,CACD,IAAMkB,EAAoBjE,EAA2B+C,EAAS,CAC7DtC,kBAAmBR,EAAQQ,kBAC3BC,cAAc,IAEf,GAA0B,KAAtBuD,EAEH,OADA3E,EAAe6B,IAAI4B,GACZkB,CAET,CAEA,GAAIlB,EAAQmB,WAAanB,EAAQoB,UAEhC,OADA7E,EAAe6B,IAAI4B,GACZA,EAAQb,aAAe,GAG/B,GAAIjC,EAAQU,UAEX,OADArB,EAAe6B,IAAI4B,GACZ/C,EAA2B+C,EAAS,CAC1CtC,kBAAmBR,EAAQQ,kBAC3BC,cAAc,IAIhB,IAAM0D,EAnSP,SAAsC1G,GACrC,OAAKE,EAAAA,EAAAA,IAAUF,GAIRqD,EAAarD,EAAM,SAHlB,IAIT,CA6R+B2G,CAA6BtB,GAC3D,OAA8B,OAA1BqB,GACH9E,EAAe6B,IAAI4B,GACZqB,IAIR9E,EAAe6B,IAAI4B,GACZ,GACR,CAEA,OACCzH,EAAuBN,EAAM,CAC5ByF,mBAAmB,EAEnBC,aAA0B,gBAAZlF,EACdmF,WAAW,IAzpBJG,OAAOwD,QAAQ,SAAU,IA4pBnC,C,yHCxrBO,SAASC,EACfvJ,GAES,IAzBe0C,EAwBxBzC,EAAsC9F,UAAA1B,OAAA,QAAAqG,IAAA3E,UAAA,GAAAA,UAAA,GAAG,CAAC,EAE1C,OA1BwBuI,EA0BJ1C,GAzBb6C,EAAAA,EAAAA,IAAoBH,EAAM,CAChC,UACA,OACA,WACA,WACA,UACA,YACA,YACA,eACA,SACA,YACA,gBAeO,IAGDpC,EAAAA,EAAAA,GAAuBN,EAAMC,EACrC,C,qCClCO,SAASyD,EAAarD,GAA0B,IAAAmJ,EACtD,OAEkB,QADjBA,EACAnJ,EAAQoD,iBAAS,IAAA+F,EAAAA,EAEjBnJ,EAAQoJ,QAAQC,aAElB,C,+EAEA,IAAMC,EAA8D,CACnEC,QAAS,UACTC,MAAO,gBACPC,OAAQ,SACRC,SAAU,UACVC,GAAI,aACJC,QAAS,QACTC,OAAQ,SACRC,GAAI,OACJC,SAAU,QACVC,OAAQ,SAERC,KAAM,OACNC,OAAQ,cACRC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,GAAI,UACJC,OAAQ,SACRC,GAAI,YACJC,KAAM,WACNC,OAAQ,SACRC,GAAI,WACJC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,IAAK,aACLC,GAAI,OACJC,SAAU,QAEVC,OAAQ,SACRC,OAAQ,SACRC,SAAU,cAEVC,QAAS,SACTC,QAAS,SACTC,MAAO,QACPC,MAAO,WACPC,SAAU,UACVC,MAAO,WAEPC,GAAI,OACJC,GAAI,eACJC,MAAO,WACPC,GAAI,MACJC,GAAI,QAGCC,EAAoD,CACzDC,QAAS,IAAIhK,IAAI,CAAC,aAAc,oBAChCiK,KAAM,IAAIjK,IAAI,CAAC,aAAc,oBAC7BkK,SAAU,IAAIlK,IAAI,CAAC,aAAc,oBACjCmK,SAAU,IAAInK,IAAI,CAAC,aAAc,oBACjCoK,QAAS,IAAIpK,IAAI,CAAC,aAAc,kBAAmB,yBACnDqK,UAAW,IAAIrK,IAAI,CAAC,aAAc,oBAClCsK,UAAW,IAAItK,IAAI,CAAC,aAAc,oBAClCuK,aAAc,IAAIvK,IAAI,CAAC,aAAc,oBACrCwK,OAAQ,IAAIxK,IAAI,CAAC,aAAc,oBAC/ByK,UAAW,IAAIzK,IAAI,CAAC,aAAc,oBAClC0K,YAAa,IAAI1K,IAAI,CAAC,aAAc,qBAyCrC,SAAS2K,EACR9M,EACA+M,GAGA,OAtCD,SAAiC/M,EAAkBsC,GAGlD,MAAO,CACN,cACA,YACA,gBACA,eACA,mBACA,eAEA,kBAEA,cACA,eAEA,cAEA,oBACA,aACA,kBACA,YACA,YACA,gBACA,wBACC0K,MAAK,SAACrH,GAAkB,IAAAsH,EACzB,OACCjN,EAAQ4H,aAAajC,MACM,QAA3BsH,EAACf,EAAqB5J,UAAK,IAAA2K,GAA1BA,EAA4B3N,IAAIqG,GAEnC,GACD,CAOQuH,CAAwBlN,EAAS+M,EACzC,CAEe,SAASI,EAAQnN,GAC/B,IAAMoN,EAiFP,SAAyBpN,GACxB,IAAMsC,EAAOtC,EAAQM,aAAa,QAClC,GAAa,OAATgC,EAAe,CAClB,IAAM8K,EAAe9K,EAAKmD,OAAO4H,MAAM,KAAK,GAG5C,GAAID,EAAahV,OAAS,EACzB,OAAOgV,CAET,CAEA,OAAO,IACR,CA7FsBE,CAAgBtN,GACrC,GAAqB,OAAjBoN,GAA0C,iBAAjBA,EAAiC,CAC7D,IAAML,EAYR,SAAyB/M,GACxB,IAAMuN,EAAcjE,EAAwBjG,EAAarD,IACzD,QAAoBvB,IAAhB8O,EACH,OAAOA,EAGR,OAAQlK,EAAarD,IACpB,IAAK,IACL,IAAK,OACL,IAAK,OACJ,GAAIA,EAAQ4H,aAAa,QACxB,MAAO,OAER,MACD,IAAK,MACJ,MACiC,KAAhC5H,EAAQM,aAAa,QACpBwM,EAAyB9M,EAAS,OAI7B,MAFC,eAGT,IAAK,QACJ,IAAQkH,EAASlH,EAATkH,KACR,OAAQA,GACP,IAAK,SACL,IAAK,QACL,IAAK,QACL,IAAK,SACJ,MAAO,SACR,IAAK,WACL,IAAK,QACJ,OAAOA,EACR,IAAK,QACJ,MAAO,SACR,IAAK,QACL,IAAK,MACL,IAAK,OACL,IAAK,MACJ,OAAIlH,EAAQ4H,aAAa,QACjB,WAED,UAER,IAAK,SACJ,OAAI5H,EAAQ4H,aAAa,QACjB,WAED,YACR,IAAK,SACJ,MAAO,aACR,QACC,OAAO,KAGV,IAAK,SACJ,OACC5H,EAAQ4H,aAAa,aACpB5H,EAA8BwN,KAAO,EAE/B,UAED,WAET,OAAO,IACR,CA7EuBC,CAAgBzN,GACrC,GACkB,iBAAjBoN,GACAN,EAAyB9M,EAAS+M,GAAgB,IAElD,OAAOA,CAET,CAEA,OAAOK,CACR,C,ycCvIO,SAAS7K,EAAUF,GACzB,OAAgB,OAATA,GAAiBA,EAAKwG,WAAaxG,EAAKqL,YAChD,CAEO,SAASnH,EACflE,GAEA,OAAOE,EAAUF,IAAgC,aAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS4E,EACf5E,GAEA,OAAOE,EAAUF,IAAgC,WAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS0E,EACf1E,GAEA,OAAOE,EAAUF,IAAgC,cAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAASkG,EACflG,GAEA,OAAOE,EAAUF,IAAgC,YAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS8D,EACf9D,GAEA,OAAOE,EAAUF,IAAgC,WAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAASoG,EACfpG,GAEA,OAAOE,EAAUF,IAAgC,cAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS8B,EAAW9B,GAC1B,IAAQsL,GACgB,OAAvBtL,EAAK0B,cAA0B1B,EAAoBA,EAAK0B,eADjD4J,YAGR,GAAoB,OAAhBA,EACH,MAAM,IAAI5U,UAAU,uBAErB,OAAO4U,CACR,CAEO,SAAS3H,EACf3D,GAEA,OAAOE,EAAUF,IAAgC,cAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS6D,EACf7D,GAEA,OAAOE,EAAUF,IAAgC,YAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAAS0C,EAAkB1C,GACjC,OAAOE,EAAUF,IAAgC,UAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAMO,SAASmE,EAAgBnE,GAC/B,OAAOE,EAAUF,IAAgC,SAAvBgB,EAAAA,EAAAA,cAAahB,EACxC,CAEO,SAASuE,EAAkBvE,GACjC,OATM,SAAsBA,GAC5B,OAAOE,EAAUF,SAAkD5D,IAAxC4D,EAAoBuL,eAChD,CAOQC,CAAaxL,IAAgC,WAAvBgB,EAAAA,EAAAA,cAAahB,EAC3C,CAQO,SAASvC,EAAYuC,EAAYsD,GACvC,GAAIpD,EAAUF,IAASA,EAAKuF,aAAajC,GAAgB,CAExD,IAAMmI,EAAMzL,EAAK/B,aAAaqF,GAAgB0H,MAAM,KAG9C1N,EAAO0C,EAAK0L,YACd1L,EAAK0L,cACN1L,EAAK0B,cAER,OAAO+J,EACL/N,KAAI,SAACiO,GAAE,OAAKrO,EAAKqE,eAAegK,EAAG,IACnC3Q,QACA,SAAC2C,GAAuB,OAAqC,OAAZA,CAAgB,GAGpE,CAEA,MAAO,EACR,CAEO,SAASwC,EACfH,EACA4L,GAEA,QAAI1L,EAAUF,KAC4B,IAAlC4L,EAAMjS,SAAQmR,EAAAA,EAAAA,SAAQ9K,GAG/B,C","sources":["../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/construct.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/isNativeFunction.js","../node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/objectSpread2.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/wrapNativeSuper.js","../node_modules/dom-accessibility-api/sources/accessible-description.ts","../node_modules/dom-accessibility-api/sources/polyfills/array.from.ts","../node_modules/dom-accessibility-api/sources/polyfills/SetLike.ts","../node_modules/dom-accessibility-api/sources/accessible-name-and-description.ts","../node_modules/dom-accessibility-api/sources/accessible-name.ts","../node_modules/dom-accessibility-api/sources/getRole.ts","../node_modules/dom-accessibility-api/sources/util.ts"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct.bind(), module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n  return _construct.apply(null, arguments);\n}\nmodule.exports = _construct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct.js\");\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn.js\");\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return possibleConstructorReturn(this, result);\n  };\n}\nmodule.exports = _createSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}\nmodule.exports = _isNativeFunction, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nmodule.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\nvar setPrototypeOf = require(\"./setPrototypeOf.js\");\nvar isNativeFunction = require(\"./isNativeFunction.js\");\nvar construct = require(\"./construct.js\");\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _wrapNativeSuper(Class);\n}\nmodule.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import {\n\tcomputeTextAlternative,\n\tComputeTextAlternativeOptions,\n} from \"./accessible-name-and-description\";\nimport { queryIdRefs } from \"./util\";\n\n/**\n * @param root\n * @param options\n * @returns\n */\nexport function computeAccessibleDescription(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tlet description = queryIdRefs(root, \"aria-describedby\")\n\t\t.map((element) => {\n\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t...options,\n\t\t\t\tcompute: \"description\",\n\t\t\t});\n\t\t})\n\t\t.join(\" \");\n\n\t// TODO: Technically we need to make sure that node wasn't used for the accessible name\n\t//       This causes `description_1.0_combobox-focusable-manual` to fail\n\t//\n\t// https://www.w3.org/TR/html-aam-1.0/#accessible-name-and-description-computation\n\t// says for so many elements to use the `title` that we assume all elements are considered\n\tif (description === \"\") {\n\t\tconst title = root.getAttribute(\"title\");\n\t\tdescription = title === null ? \"\" : title;\n\t}\n\n\treturn description;\n}\n","/**\n * @source {https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Polyfill}\n * but without thisArg (too hard to type, no need to `this`)\n */\nconst toStr = Object.prototype.toString;\nfunction isCallable(fn: unknown): boolean {\n\treturn typeof fn === \"function\" || toStr.call(fn) === \"[object Function]\";\n}\nfunction toInteger(value: unknown): number {\n\tconst number = Number(value);\n\tif (isNaN(number)) {\n\t\treturn 0;\n\t}\n\tif (number === 0 || !isFinite(number)) {\n\t\treturn number;\n\t}\n\treturn (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n}\nconst maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(value: unknown): number {\n\tconst len = toInteger(value);\n\treturn Math.min(Math.max(len, 0), maxSafeInteger);\n}\n/**\n * Creates an array from an iterable object.\n * @param iterable An iterable object to convert to an array.\n */\nexport default function arrayFrom<T>(iterable: Iterable<T> | ArrayLike<T>): T[];\n/**\n * Creates an array from an iterable object.\n * @param iterable An iterable object to convert to an array.\n * @param mapfn A mapping function to call on every element of the array.\n * @param thisArg Value of 'this' used to invoke the mapfn.\n */\nexport default function arrayFrom<T, U>(\n\tarrayLike: Iterable<T> | ArrayLike<T>,\n\tmapFn?: (v: T, k: number) => U\n): U[] {\n\t// 1. Let C be the this value.\n\t// edit(@eps1lon): we're not calling it as Array.from\n\tconst C = Array;\n\n\t// 2. Let items be ToObject(arrayLike).\n\tconst items = Object(arrayLike);\n\n\t// 3. ReturnIfAbrupt(items).\n\tif (arrayLike == null) {\n\t\tthrow new TypeError(\n\t\t\t\"Array.from requires an array-like object - not null or undefined\"\n\t\t);\n\t}\n\n\t// 4. If mapfn is undefined, then let mapping be false.\n\t// const mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n\n\tif (typeof mapFn !== \"undefined\") {\n\t\t// 5. else\n\t\t// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n\t\tif (!isCallable(mapFn)) {\n\t\t\tthrow new TypeError(\n\t\t\t\t\"Array.from: when provided, the second argument must be a function\"\n\t\t\t);\n\t\t}\n\t}\n\n\t// 10. Let lenValue be Get(items, \"length\").\n\t// 11. Let len be ToLength(lenValue).\n\tconst len = toLength(items.length);\n\n\t// 13. If IsConstructor(C) is true, then\n\t// 13. a. Let A be the result of calling the [[Construct]] internal method\n\t// of C with an argument list containing the single item len.\n\t// 14. a. Else, Let A be ArrayCreate(len).\n\tconst A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n\t// 16. Let k be 0.\n\tlet k = 0;\n\t// 17. Repeat, while k < lenâ€¦ (also steps a - h)\n\tlet kValue;\n\twhile (k < len) {\n\t\tkValue = items[k];\n\t\tif (mapFn) {\n\t\t\tA[k] = mapFn(kValue, k);\n\t\t} else {\n\t\t\tA[k] = kValue;\n\t\t}\n\t\tk += 1;\n\t}\n\t// 18. Let putStatus be Put(A, \"length\", len, true).\n\tA.length = len;\n\t// 20. Return A.\n\treturn A;\n}\n","declare global {\n\tclass Set<T> {\n\t\t// es2015.collection.d.ts\n\t\tconstructor(items?: T[]);\n\t\tadd(value: T): this;\n\t\tclear(): void;\n\t\tdelete(value: T): boolean;\n\t\tforEach(\n\t\t\tcallbackfn: (value: T, value2: T, set: Set<T>) => void,\n\t\t\tthisArg?: unknown\n\t\t): void;\n\t\thas(value: T): boolean;\n\t\treadonly size: number;\n\n\t\t// es2015.iterable.d.ts\n\t\t// no  implemennted\n\t}\n}\n\n// for environments without Set we fallback to arrays with unique members\nclass SetLike<T> implements Set<T> {\n\tprivate items: T[];\n\n\tconstructor(items: T[] = []) {\n\t\tthis.items = items;\n\t}\n\n\tadd(value: T): this {\n\t\tif (this.has(value) === false) {\n\t\t\tthis.items.push(value);\n\t\t}\n\t\treturn this;\n\t}\n\tclear(): void {\n\t\tthis.items = [];\n\t}\n\tdelete(value: T): boolean {\n\t\tconst previousLength = this.items.length;\n\t\tthis.items = this.items.filter((item) => item !== value);\n\n\t\treturn previousLength !== this.items.length;\n\t}\n\tforEach(callbackfn: (value: T, value2: T, set: Set<T>) => void): void {\n\t\tthis.items.forEach((item) => {\n\t\t\tcallbackfn(item, item, this);\n\t\t});\n\t}\n\thas(value: T): boolean {\n\t\treturn this.items.indexOf(value) !== -1;\n\t}\n\n\tget size(): number {\n\t\treturn this.items.length;\n\t}\n}\n\nexport default typeof Set === \"undefined\" ? Set : SetLike;\n","/**\n * implements https://w3c.github.io/accname/\n */\nimport ArrayFrom from \"./polyfills/array.from\";\nimport SetLike from \"./polyfills/SetLike\";\nimport {\n\thasAnyConcreteRoles,\n\tisElement,\n\tisHTMLTableCaptionElement,\n\tisHTMLInputElement,\n\tisHTMLSelectElement,\n\tisHTMLTextAreaElement,\n\tsafeWindow,\n\tisHTMLFieldSetElement,\n\tisHTMLLegendElement,\n\tisHTMLOptGroupElement,\n\tisHTMLTableElement,\n\tisHTMLSlotElement,\n\tisSVGSVGElement,\n\tisSVGTitleElement,\n\tqueryIdRefs,\n\tgetLocalName,\n} from \"./util\";\n\n/**\n *  A string of characters where all carriage returns, newlines, tabs, and form-feeds are replaced with a single space, and multiple spaces are reduced to a single space. The string contains only character data; it does not contain any markup.\n */\ntype FlatString = string & {\n\t__flat: true;\n};\n\n/**\n * interface for an options-bag where `window.getComputedStyle` can be mocked\n */\nexport interface ComputeTextAlternativeOptions {\n\tcompute?: \"description\" | \"name\";\n\t/**\n\t * Set to true if window.computedStyle supports the second argument.\n\t * This should be false in JSDOM. Otherwise JSDOM will log console errors.\n\t */\n\tcomputedStyleSupportsPseudoElements?: boolean;\n\t/**\n\t * mock window.getComputedStyle. Needs `content`, `display` and `visibility`\n\t */\n\tgetComputedStyle?: typeof window.getComputedStyle;\n\t/**\n\t * Set to `true` if you want to include hidden elements in the accessible name and description computation.\n\t * Skips 2A in https://w3c.github.io/accname/#computation-steps.\n\t * @default false\n\t */\n\thidden?: boolean;\n}\n\n/**\n *\n * @param {string} string -\n * @returns {FlatString} -\n */\nfunction asFlatString(s: string): FlatString {\n\treturn s.trim().replace(/\\s\\s+/g, \" \") as FlatString;\n}\n\n/**\n *\n * @param node -\n * @param options - These are not optional to prevent accidentally calling it without options in `computeAccessibleName`\n * @returns {boolean} -\n */\nfunction isHidden(\n\tnode: Node,\n\tgetComputedStyleImplementation: typeof window.getComputedStyle\n): node is Element {\n\tif (!isElement(node)) {\n\t\treturn false;\n\t}\n\n\tif (\n\t\tnode.hasAttribute(\"hidden\") ||\n\t\tnode.getAttribute(\"aria-hidden\") === \"true\"\n\t) {\n\t\treturn true;\n\t}\n\n\tconst style = getComputedStyleImplementation(node);\n\treturn (\n\t\tstyle.getPropertyValue(\"display\") === \"none\" ||\n\t\tstyle.getPropertyValue(\"visibility\") === \"hidden\"\n\t);\n}\n\n/**\n * @param {Node} node -\n * @returns {boolean} - As defined in step 2E of https://w3c.github.io/accname/#mapping_additional_nd_te\n */\nfunction isControl(node: Node): boolean {\n\treturn (\n\t\thasAnyConcreteRoles(node, [\"button\", \"combobox\", \"listbox\", \"textbox\"]) ||\n\t\thasAbstractRole(node, \"range\")\n\t);\n}\n\nfunction hasAbstractRole(node: Node, role: string): node is Element {\n\tif (!isElement(node)) {\n\t\treturn false;\n\t}\n\n\tswitch (role) {\n\t\tcase \"range\":\n\t\t\treturn hasAnyConcreteRoles(node, [\n\t\t\t\t\"meter\",\n\t\t\t\t\"progressbar\",\n\t\t\t\t\"scrollbar\",\n\t\t\t\t\"slider\",\n\t\t\t\t\"spinbutton\",\n\t\t\t]);\n\t\tdefault:\n\t\t\tthrow new TypeError(\n\t\t\t\t`No knowledge about abstract role '${role}'. This is likely a bug :(`\n\t\t\t);\n\t}\n}\n\n/**\n * element.querySelectorAll but also considers owned tree\n * @param element\n * @param selectors\n */\nfunction querySelectorAllSubtree(\n\telement: Element,\n\tselectors: string\n): Element[] {\n\tconst elements = ArrayFrom(element.querySelectorAll(selectors));\n\n\tqueryIdRefs(element, \"aria-owns\").forEach((root) => {\n\t\t// babel transpiles this assuming an iterator\n\t\telements.push.apply(elements, ArrayFrom(root.querySelectorAll(selectors)));\n\t});\n\n\treturn elements;\n}\n\nfunction querySelectedOptions(listbox: Element): ArrayLike<Element> {\n\tif (isHTMLSelectElement(listbox)) {\n\t\t// IE11 polyfill\n\t\treturn (\n\t\t\tlistbox.selectedOptions || querySelectorAllSubtree(listbox, \"[selected]\")\n\t\t);\n\t}\n\treturn querySelectorAllSubtree(listbox, '[aria-selected=\"true\"]');\n}\n\nfunction isMarkedPresentational(node: Node): node is Element {\n\treturn hasAnyConcreteRoles(node, [\"none\", \"presentation\"]);\n}\n\n/**\n * Elements specifically listed in html-aam\n *\n * We don't need this for `label` or `legend` elements.\n * Their implicit roles already allow \"naming from content\".\n *\n * sources:\n *\n * - https://w3c.github.io/html-aam/#table-element\n */\nfunction isNativeHostLanguageTextAlternativeElement(\n\tnode: Node\n): node is Element {\n\treturn isHTMLTableCaptionElement(node);\n}\n\n/**\n * https://w3c.github.io/aria/#namefromcontent\n */\nfunction allowsNameFromContent(node: Node): boolean {\n\treturn hasAnyConcreteRoles(node, [\n\t\t\"button\",\n\t\t\"cell\",\n\t\t\"checkbox\",\n\t\t\"columnheader\",\n\t\t\"gridcell\",\n\t\t\"heading\",\n\t\t\"label\",\n\t\t\"legend\",\n\t\t\"link\",\n\t\t\"menuitem\",\n\t\t\"menuitemcheckbox\",\n\t\t\"menuitemradio\",\n\t\t\"option\",\n\t\t\"radio\",\n\t\t\"row\",\n\t\t\"rowheader\",\n\t\t\"switch\",\n\t\t\"tab\",\n\t\t\"tooltip\",\n\t\t\"treeitem\",\n\t]);\n}\n\n/**\n * TODO https://github.com/eps1lon/dom-accessibility-api/issues/100\n */\nfunction isDescendantOfNativeHostLanguageTextAlternativeElement(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars -- not implemented yet\n\tnode: Node\n): boolean {\n\treturn false;\n}\n\nfunction getValueOfTextbox(element: Element): string {\n\tif (isHTMLInputElement(element) || isHTMLTextAreaElement(element)) {\n\t\treturn element.value;\n\t}\n\t// https://github.com/eps1lon/dom-accessibility-api/issues/4\n\treturn element.textContent || \"\";\n}\n\nfunction getTextualContent(declaration: CSSStyleDeclaration): string {\n\tconst content = declaration.getPropertyValue(\"content\");\n\tif (/^[\"'].*[\"']$/.test(content)) {\n\t\treturn content.slice(1, -1);\n\t}\n\treturn \"\";\n}\n\n/**\n * https://html.spec.whatwg.org/multipage/forms.html#category-label\n * TODO: form-associated custom elements\n * @param element\n */\nfunction isLabelableElement(element: Element): boolean {\n\tconst localName = getLocalName(element);\n\n\treturn (\n\t\tlocalName === \"button\" ||\n\t\t(localName === \"input\" && element.getAttribute(\"type\") !== \"hidden\") ||\n\t\tlocalName === \"meter\" ||\n\t\tlocalName === \"output\" ||\n\t\tlocalName === \"progress\" ||\n\t\tlocalName === \"select\" ||\n\t\tlocalName === \"textarea\"\n\t);\n}\n\n/**\n * > [...], then the first such descendant in tree order is the label element's labeled control.\n * -- https://html.spec.whatwg.org/multipage/forms.html#labeled-control\n * @param element\n */\nfunction findLabelableElement(element: Element): Element | null {\n\tif (isLabelableElement(element)) {\n\t\treturn element;\n\t}\n\tlet labelableElement: Element | null = null;\n\telement.childNodes.forEach((childNode) => {\n\t\tif (labelableElement === null && isElement(childNode)) {\n\t\t\tconst descendantLabelableElement = findLabelableElement(childNode);\n\t\t\tif (descendantLabelableElement !== null) {\n\t\t\t\tlabelableElement = descendantLabelableElement;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn labelableElement;\n}\n\n/**\n * Polyfill of HTMLLabelElement.control\n * https://html.spec.whatwg.org/multipage/forms.html#labeled-control\n * @param label\n */\nfunction getControlOfLabel(label: HTMLLabelElement): Element | null {\n\tif (label.control !== undefined) {\n\t\treturn label.control;\n\t}\n\n\tconst htmlFor = label.getAttribute(\"for\");\n\tif (htmlFor !== null) {\n\t\treturn label.ownerDocument.getElementById(htmlFor);\n\t}\n\n\treturn findLabelableElement(label);\n}\n\n/**\n * Polyfill of HTMLInputElement.labels\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/labels\n * @param element\n */\nfunction getLabels(element: Element): HTMLLabelElement[] | null {\n\tconst labelsProperty = (element as HTMLInputElement).labels as\n\t\t| HTMLInputElement[\"labels\"]\n\t\t| undefined;\n\n\tif (labelsProperty === null) {\n\t\treturn labelsProperty;\n\t}\n\tif (labelsProperty !== undefined) {\n\t\treturn ArrayFrom(labelsProperty);\n\t}\n\n\t// polyfill\n\tif (!isLabelableElement(element)) {\n\t\treturn null;\n\t}\n\tconst document = element.ownerDocument;\n\n\treturn ArrayFrom(document.querySelectorAll(\"label\")).filter((label) => {\n\t\treturn getControlOfLabel(label) === element;\n\t});\n}\n\n/**\n * Gets the contents of a slot used for computing the accname\n * @param slot\n */\nfunction getSlotContents(slot: HTMLSlotElement): Node[] {\n\t// Computing the accessible name for elements containing slots is not\n\t// currently defined in the spec. This implementation reflects the\n\t// behavior of NVDA 2020.2/Firefox 81 and iOS VoiceOver/Safari 13.6.\n\tconst assignedNodes = slot.assignedNodes();\n\tif (assignedNodes.length === 0) {\n\t\t// if no nodes are assigned to the slot, it displays the default content\n\t\treturn ArrayFrom(slot.childNodes);\n\t}\n\treturn assignedNodes;\n}\n\n/**\n * implements https://w3c.github.io/accname/#mapping_additional_nd_te\n * @param root\n * @param options\n * @returns\n */\nexport function computeTextAlternative(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tconst consultedNodes = new SetLike<Node>();\n\n\tconst window = safeWindow(root);\n\tconst {\n\t\tcompute = \"name\",\n\t\tcomputedStyleSupportsPseudoElements = options.getComputedStyle !==\n\t\t\tundefined,\n\t\t// This might be overengineered. I don't know what happens if I call\n\t\t// window.getComputedStyle(elementFromAnotherWindow) or if I don't bind it\n\t\t// the type declarations don't require a `this`\n\t\t// eslint-disable-next-line no-restricted-properties\n\t\tgetComputedStyle = window.getComputedStyle.bind(window),\n\t\thidden = false,\n\t} = options;\n\n\t// 2F.i\n\tfunction computeMiscTextAlternative(\n\t\tnode: Node,\n\t\tcontext: { isEmbeddedInLabel: boolean; isReferenced: boolean }\n\t): string {\n\t\tlet accumulatedText = \"\";\n\t\tif (isElement(node) && computedStyleSupportsPseudoElements) {\n\t\t\tconst pseudoBefore = getComputedStyle(node, \"::before\");\n\t\t\tconst beforeContent = getTextualContent(pseudoBefore);\n\t\t\taccumulatedText = `${beforeContent} ${accumulatedText}`;\n\t\t}\n\n\t\t// FIXME: Including aria-owns is not defined in the spec\n\t\t// But it is required in the web-platform-test\n\t\tconst childNodes = isHTMLSlotElement(node)\n\t\t\t? getSlotContents(node)\n\t\t\t: ArrayFrom(node.childNodes).concat(queryIdRefs(node, \"aria-owns\"));\n\t\tchildNodes.forEach((child) => {\n\t\t\tconst result = computeTextAlternative(child, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t\trecursion: true,\n\t\t\t});\n\t\t\t// TODO: Unclear why display affects delimiter\n\t\t\t// see https://github.com/w3c/accname/issues/3\n\t\t\tconst display = isElement(child)\n\t\t\t\t? getComputedStyle(child).getPropertyValue(\"display\")\n\t\t\t\t: \"inline\";\n\t\t\tconst separator = display !== \"inline\" ? \" \" : \"\";\n\t\t\t// trailing separator for wpt tests\n\t\t\taccumulatedText += `${separator}${result}${separator}`;\n\t\t});\n\n\t\tif (isElement(node) && computedStyleSupportsPseudoElements) {\n\t\t\tconst pseudoAfter = getComputedStyle(node, \"::after\");\n\t\t\tconst afterContent = getTextualContent(pseudoAfter);\n\t\t\taccumulatedText = `${accumulatedText} ${afterContent}`;\n\t\t}\n\n\t\treturn accumulatedText.trim();\n\t}\n\n\t/**\n\t *\n\t * @param element\n\t * @param attributeName\n\t * @returns A string non-empty string or `null`\n\t */\n\tfunction useAttribute(\n\t\telement: Element,\n\t\tattributeName: string\n\t): string | null {\n\t\tconst attribute = element.getAttributeNode(attributeName);\n\t\tif (\n\t\t\tattribute !== null &&\n\t\t\t!consultedNodes.has(attribute) &&\n\t\t\tattribute.value.trim() !== \"\"\n\t\t) {\n\t\t\tconsultedNodes.add(attribute);\n\t\t\treturn attribute.value;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction computeTooltipAttributeValue(node: Node): string | null {\n\t\tif (!isElement(node)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn useAttribute(node, \"title\");\n\t}\n\n\tfunction computeElementTextAlternative(node: Node): string | null {\n\t\tif (!isElement(node)) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// https://w3c.github.io/html-aam/#fieldset-and-legend-elements\n\t\tif (isHTMLFieldSetElement(node)) {\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isHTMLLegendElement(child)) {\n\t\t\t\t\treturn computeTextAlternative(child, {\n\t\t\t\t\t\tisEmbeddedInLabel: false,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isHTMLTableElement(node)) {\n\t\t\t// https://w3c.github.io/html-aam/#table-element\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isHTMLTableCaptionElement(child)) {\n\t\t\t\t\treturn computeTextAlternative(child, {\n\t\t\t\t\t\tisEmbeddedInLabel: false,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (isSVGSVGElement(node)) {\n\t\t\t// https://www.w3.org/TR/svg-aam-1.0/\n\t\t\tconsultedNodes.add(node);\n\t\t\tconst children = ArrayFrom(node.childNodes);\n\t\t\tfor (let i = 0; i < children.length; i += 1) {\n\t\t\t\tconst child = children[i];\n\t\t\t\tif (isSVGTitleElement(child)) {\n\t\t\t\t\treturn child.textContent;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t} else if (getLocalName(node) === \"img\" || getLocalName(node) === \"area\") {\n\t\t\t// https://w3c.github.io/html-aam/#area-element\n\t\t\t// https://w3c.github.io/html-aam/#img-element\n\t\t\tconst nameFromAlt = useAttribute(node, \"alt\");\n\t\t\tif (nameFromAlt !== null) {\n\t\t\t\treturn nameFromAlt;\n\t\t\t}\n\t\t} else if (isHTMLOptGroupElement(node)) {\n\t\t\tconst nameFromLabel = useAttribute(node, \"label\");\n\t\t\tif (nameFromLabel !== null) {\n\t\t\t\treturn nameFromLabel;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tisHTMLInputElement(node) &&\n\t\t\t(node.type === \"button\" ||\n\t\t\t\tnode.type === \"submit\" ||\n\t\t\t\tnode.type === \"reset\")\n\t\t) {\n\t\t\t// https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-description-computation\n\t\t\tconst nameFromValue = useAttribute(node, \"value\");\n\t\t\tif (nameFromValue !== null) {\n\t\t\t\treturn nameFromValue;\n\t\t\t}\n\n\t\t\t// TODO: l10n\n\t\t\tif (node.type === \"submit\") {\n\t\t\t\treturn \"Submit\";\n\t\t\t}\n\t\t\t// TODO: l10n\n\t\t\tif (node.type === \"reset\") {\n\t\t\t\treturn \"Reset\";\n\t\t\t}\n\t\t}\n\n\t\tconst labels = getLabels(node);\n\t\tif (labels !== null && labels.length !== 0) {\n\t\t\tconsultedNodes.add(node);\n\t\t\treturn ArrayFrom(labels)\n\t\t\t\t.map((element) => {\n\t\t\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t\t\tisEmbeddedInLabel: true,\n\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\trecursion: true,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.filter((label) => {\n\t\t\t\t\treturn label.length > 0;\n\t\t\t\t})\n\t\t\t\t.join(\" \");\n\t\t}\n\n\t\t// https://w3c.github.io/html-aam/#input-type-image-accessible-name-computation\n\t\t// TODO: wpt test consider label elements but html-aam does not mention them\n\t\t// We follow existing implementations over spec\n\t\tif (isHTMLInputElement(node) && node.type === \"image\") {\n\t\t\tconst nameFromAlt = useAttribute(node, \"alt\");\n\t\t\tif (nameFromAlt !== null) {\n\t\t\t\treturn nameFromAlt;\n\t\t\t}\n\n\t\t\tconst nameFromTitle = useAttribute(node, \"title\");\n\t\t\tif (nameFromTitle !== null) {\n\t\t\t\treturn nameFromTitle;\n\t\t\t}\n\n\t\t\t// TODO: l10n\n\t\t\treturn \"Submit Query\";\n\t\t}\n\n\t\tif (hasAnyConcreteRoles(node, [\"button\"])) {\n\t\t\t// https://www.w3.org/TR/html-aam-1.0/#button-element\n\t\t\tconst nameFromSubTree = computeMiscTextAlternative(node, {\n\t\t\t\tisEmbeddedInLabel: false,\n\t\t\t\tisReferenced: false,\n\t\t\t});\n\t\t\tif (nameFromSubTree !== \"\") {\n\t\t\t\treturn nameFromSubTree;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction computeTextAlternative(\n\t\tcurrent: Node,\n\t\tcontext: {\n\t\t\tisEmbeddedInLabel: boolean;\n\t\t\tisReferenced: boolean;\n\t\t\trecursion: boolean;\n\t\t}\n\t): string {\n\t\tif (consultedNodes.has(current)) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// 2A\n\t\tif (\n\t\t\t!hidden &&\n\t\t\tisHidden(current, getComputedStyle) &&\n\t\t\t!context.isReferenced\n\t\t) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn \"\" as FlatString;\n\t\t}\n\n\t\t// 2B\n\t\tconst labelAttributeNode = isElement(current)\n\t\t\t? current.getAttributeNode(\"aria-labelledby\")\n\t\t\t: null;\n\t\t// TODO: Do we generally need to block query IdRefs of attributes we have already consulted?\n\t\tconst labelElements =\n\t\t\tlabelAttributeNode !== null && !consultedNodes.has(labelAttributeNode)\n\t\t\t\t? queryIdRefs(current, \"aria-labelledby\")\n\t\t\t\t: [];\n\t\tif (\n\t\t\tcompute === \"name\" &&\n\t\t\t!context.isReferenced &&\n\t\t\tlabelElements.length > 0\n\t\t) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- Can't be null here otherwise labelElements would be empty\n\t\t\tconsultedNodes.add(labelAttributeNode!);\n\n\t\t\treturn labelElements\n\t\t\t\t.map((element) => {\n\t\t\t\t\t// TODO: Chrome will consider repeated values i.e. use a node multiple times while we'll bail out in computeTextAlternative.\n\t\t\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\t\t\tisReferenced: true,\n\t\t\t\t\t\t// this isn't recursion as specified, otherwise we would skip\n\t\t\t\t\t\t// `aria-label` in\n\t\t\t\t\t\t// <input id=\"myself\" aria-label=\"foo\" aria-labelledby=\"myself\"\n\t\t\t\t\t\trecursion: false,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.join(\" \");\n\t\t}\n\n\t\t// 2C\n\t\t// Changed from the spec in anticipation of https://github.com/w3c/accname/issues/64\n\t\t// spec says we should only consider skipping if we have a non-empty label\n\t\tconst skipToStep2E =\n\t\t\tcontext.recursion && isControl(current) && compute === \"name\";\n\t\tif (!skipToStep2E) {\n\t\t\tconst ariaLabel = (\n\t\t\t\t(isElement(current) && current.getAttribute(\"aria-label\")) ||\n\t\t\t\t\"\"\n\t\t\t).trim();\n\t\t\tif (ariaLabel !== \"\" && compute === \"name\") {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\treturn ariaLabel;\n\t\t\t}\n\n\t\t\t// 2D\n\t\t\tif (!isMarkedPresentational(current)) {\n\t\t\t\tconst elementTextAlternative = computeElementTextAlternative(current);\n\t\t\t\tif (elementTextAlternative !== null) {\n\t\t\t\t\tconsultedNodes.add(current);\n\t\t\t\t\treturn elementTextAlternative;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// special casing, cheating to make tests pass\n\t\t// https://github.com/w3c/accname/issues/67\n\t\tif (hasAnyConcreteRoles(current, [\"menu\"])) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn \"\";\n\t\t}\n\n\t\t// 2E\n\t\tif (skipToStep2E || context.isEmbeddedInLabel || context.isReferenced) {\n\t\t\tif (hasAnyConcreteRoles(current, [\"combobox\", \"listbox\"])) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\tconst selectedOptions = querySelectedOptions(current);\n\t\t\t\tif (selectedOptions.length === 0) {\n\t\t\t\t\t// defined per test `name_heading_combobox`\n\t\t\t\t\treturn isHTMLInputElement(current) ? current.value : \"\";\n\t\t\t\t}\n\t\t\t\treturn ArrayFrom(selectedOptions)\n\t\t\t\t\t.map((selectedOption) => {\n\t\t\t\t\t\treturn computeTextAlternative(selectedOption, {\n\t\t\t\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\t\t\t\tisReferenced: false,\n\t\t\t\t\t\t\trecursion: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.join(\" \");\n\t\t\t}\n\t\t\tif (hasAbstractRole(current, \"range\")) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\tif (current.hasAttribute(\"aria-valuetext\")) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard\n\t\t\t\t\treturn current.getAttribute(\"aria-valuetext\")!;\n\t\t\t\t}\n\t\t\t\tif (current.hasAttribute(\"aria-valuenow\")) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute guard\n\t\t\t\t\treturn current.getAttribute(\"aria-valuenow\")!;\n\t\t\t\t}\n\t\t\t\t// Otherwise, use the value as specified by a host language attribute.\n\t\t\t\treturn current.getAttribute(\"value\") || \"\";\n\t\t\t}\n\t\t\tif (hasAnyConcreteRoles(current, [\"textbox\"])) {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\treturn getValueOfTextbox(current);\n\t\t\t}\n\t\t}\n\n\t\t// 2F: https://w3c.github.io/accname/#step2F\n\t\tif (\n\t\t\tallowsNameFromContent(current) ||\n\t\t\t(isElement(current) && context.isReferenced) ||\n\t\t\tisNativeHostLanguageTextAlternativeElement(current) ||\n\t\t\tisDescendantOfNativeHostLanguageTextAlternativeElement(current)\n\t\t) {\n\t\t\tconst accumulatedText2F = computeMiscTextAlternative(current, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t});\n\t\t\tif (accumulatedText2F !== \"\") {\n\t\t\t\tconsultedNodes.add(current);\n\t\t\t\treturn accumulatedText2F;\n\t\t\t}\n\t\t}\n\n\t\tif (current.nodeType === current.TEXT_NODE) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn current.textContent || \"\";\n\t\t}\n\n\t\tif (context.recursion) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn computeMiscTextAlternative(current, {\n\t\t\t\tisEmbeddedInLabel: context.isEmbeddedInLabel,\n\t\t\t\tisReferenced: false,\n\t\t\t});\n\t\t}\n\n\t\tconst tooltipAttributeValue = computeTooltipAttributeValue(current);\n\t\tif (tooltipAttributeValue !== null) {\n\t\t\tconsultedNodes.add(current);\n\t\t\treturn tooltipAttributeValue;\n\t\t}\n\n\t\t// TODO should this be reachable?\n\t\tconsultedNodes.add(current);\n\t\treturn \"\";\n\t}\n\n\treturn asFlatString(\n\t\tcomputeTextAlternative(root, {\n\t\t\tisEmbeddedInLabel: false,\n\t\t\t// by spec computeAccessibleDescription starts with the referenced elements as roots\n\t\t\tisReferenced: compute === \"description\",\n\t\t\trecursion: false,\n\t\t})\n\t);\n}\n","import {\n\tcomputeTextAlternative,\n\tComputeTextAlternativeOptions,\n} from \"./accessible-name-and-description\";\nimport { hasAnyConcreteRoles } from \"./util\";\n\n/**\n * https://w3c.github.io/aria/#namefromprohibited\n */\nfunction prohibitsNaming(node: Node): boolean {\n\treturn hasAnyConcreteRoles(node, [\n\t\t\"caption\",\n\t\t\"code\",\n\t\t\"deletion\",\n\t\t\"emphasis\",\n\t\t\"generic\",\n\t\t\"insertion\",\n\t\t\"paragraph\",\n\t\t\"presentation\",\n\t\t\"strong\",\n\t\t\"subscript\",\n\t\t\"superscript\",\n\t]);\n}\n\n/**\n * implements https://w3c.github.io/accname/#mapping_additional_nd_name\n * @param root\n * @param options\n * @returns\n */\nexport function computeAccessibleName(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tif (prohibitsNaming(root)) {\n\t\treturn \"\";\n\t}\n\n\treturn computeTextAlternative(root, options);\n}\n","// https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\n/**\n * Safe Element.localName for all supported environments\n * @param element\n */\nexport function getLocalName(element: Element): string {\n\treturn (\n\t\t// eslint-disable-next-line no-restricted-properties -- actual guard for environments without localName\n\t\telement.localName ??\n\t\t// eslint-disable-next-line no-restricted-properties -- required for the fallback\n\t\telement.tagName.toLowerCase()\n\t);\n}\n\nconst localNameToRoleMappings: Record<string, string | undefined> = {\n\tarticle: \"article\",\n\taside: \"complementary\",\n\tbutton: \"button\",\n\tdatalist: \"listbox\",\n\tdd: \"definition\",\n\tdetails: \"group\",\n\tdialog: \"dialog\",\n\tdt: \"term\",\n\tfieldset: \"group\",\n\tfigure: \"figure\",\n\t// WARNING: Only with an accessible name\n\tform: \"form\",\n\tfooter: \"contentinfo\",\n\th1: \"heading\",\n\th2: \"heading\",\n\th3: \"heading\",\n\th4: \"heading\",\n\th5: \"heading\",\n\th6: \"heading\",\n\theader: \"banner\",\n\thr: \"separator\",\n\thtml: \"document\",\n\tlegend: \"legend\",\n\tli: \"listitem\",\n\tmath: \"math\",\n\tmain: \"main\",\n\tmenu: \"list\",\n\tnav: \"navigation\",\n\tol: \"list\",\n\toptgroup: \"group\",\n\t// WARNING: Only in certain context\n\toption: \"option\",\n\toutput: \"status\",\n\tprogress: \"progressbar\",\n\t// WARNING: Only with an accessible name\n\tsection: \"region\",\n\tsummary: \"button\",\n\ttable: \"table\",\n\ttbody: \"rowgroup\",\n\ttextarea: \"textbox\",\n\ttfoot: \"rowgroup\",\n\t// WARNING: Only in certain context\n\ttd: \"cell\",\n\tth: \"columnheader\",\n\tthead: \"rowgroup\",\n\ttr: \"row\",\n\tul: \"list\",\n};\n\nconst prohibitedAttributes: Record<string, Set<string>> = {\n\tcaption: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tcode: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tdeletion: new Set([\"aria-label\", \"aria-labelledby\"]),\n\temphasis: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tgeneric: new Set([\"aria-label\", \"aria-labelledby\", \"aria-roledescription\"]),\n\tinsertion: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tparagraph: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tpresentation: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tstrong: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tsubscript: new Set([\"aria-label\", \"aria-labelledby\"]),\n\tsuperscript: new Set([\"aria-label\", \"aria-labelledby\"]),\n};\n\n/**\n *\n * @param element\n * @param role The role used for this element. This is specified to control whether you want to use the implicit or explicit role.\n */\nfunction hasGlobalAriaAttributes(element: Element, role: string): boolean {\n\t// https://rawgit.com/w3c/aria/stable/#global_states\n\t// commented attributes are deprecated\n\treturn [\n\t\t\"aria-atomic\",\n\t\t\"aria-busy\",\n\t\t\"aria-controls\",\n\t\t\"aria-current\",\n\t\t\"aria-describedby\",\n\t\t\"aria-details\",\n\t\t// \"disabled\",\n\t\t\"aria-dropeffect\",\n\t\t// \"errormessage\",\n\t\t\"aria-flowto\",\n\t\t\"aria-grabbed\",\n\t\t// \"haspopup\",\n\t\t\"aria-hidden\",\n\t\t// \"invalid\",\n\t\t\"aria-keyshortcuts\",\n\t\t\"aria-label\",\n\t\t\"aria-labelledby\",\n\t\t\"aria-live\",\n\t\t\"aria-owns\",\n\t\t\"aria-relevant\",\n\t\t\"aria-roledescription\",\n\t].some((attributeName) => {\n\t\treturn (\n\t\t\telement.hasAttribute(attributeName) &&\n\t\t\t!prohibitedAttributes[role]?.has(attributeName)\n\t\t);\n\t});\n}\n\nfunction ignorePresentationalRole(\n\telement: Element,\n\timplicitRole: string\n): boolean {\n\t// https://rawgit.com/w3c/aria/stable/#conflict_resolution_presentation_none\n\treturn hasGlobalAriaAttributes(element, implicitRole);\n}\n\nexport default function getRole(element: Element): string | null {\n\tconst explicitRole = getExplicitRole(element);\n\tif (explicitRole === null || explicitRole === \"presentation\") {\n\t\tconst implicitRole = getImplicitRole(element);\n\t\tif (\n\t\t\texplicitRole !== \"presentation\" ||\n\t\t\tignorePresentationalRole(element, implicitRole || \"\")\n\t\t) {\n\t\t\treturn implicitRole;\n\t\t}\n\t}\n\n\treturn explicitRole;\n}\n\nfunction getImplicitRole(element: Element): string | null {\n\tconst mappedByTag = localNameToRoleMappings[getLocalName(element)];\n\tif (mappedByTag !== undefined) {\n\t\treturn mappedByTag;\n\t}\n\n\tswitch (getLocalName(element)) {\n\t\tcase \"a\":\n\t\tcase \"area\":\n\t\tcase \"link\":\n\t\t\tif (element.hasAttribute(\"href\")) {\n\t\t\t\treturn \"link\";\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"img\":\n\t\t\tif (\n\t\t\t\telement.getAttribute(\"alt\") === \"\" &&\n\t\t\t\t!ignorePresentationalRole(element, \"img\")\n\t\t\t) {\n\t\t\t\treturn \"presentation\";\n\t\t\t}\n\t\t\treturn \"img\";\n\t\tcase \"input\": {\n\t\t\tconst { type } = element as HTMLInputElement;\n\t\t\tswitch (type) {\n\t\t\t\tcase \"button\":\n\t\t\t\tcase \"image\":\n\t\t\t\tcase \"reset\":\n\t\t\t\tcase \"submit\":\n\t\t\t\t\treturn \"button\";\n\t\t\t\tcase \"checkbox\":\n\t\t\t\tcase \"radio\":\n\t\t\t\t\treturn type;\n\t\t\t\tcase \"range\":\n\t\t\t\t\treturn \"slider\";\n\t\t\t\tcase \"email\":\n\t\t\t\tcase \"tel\":\n\t\t\t\tcase \"text\":\n\t\t\t\tcase \"url\":\n\t\t\t\t\tif (element.hasAttribute(\"list\")) {\n\t\t\t\t\t\treturn \"combobox\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"textbox\";\n\n\t\t\t\tcase \"search\":\n\t\t\t\t\tif (element.hasAttribute(\"list\")) {\n\t\t\t\t\t\treturn \"combobox\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"searchbox\";\n\t\t\t\tcase \"number\":\n\t\t\t\t\treturn \"spinbutton\";\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tcase \"select\":\n\t\t\tif (\n\t\t\t\telement.hasAttribute(\"multiple\") ||\n\t\t\t\t(element as HTMLSelectElement).size > 1\n\t\t\t) {\n\t\t\t\treturn \"listbox\";\n\t\t\t}\n\t\t\treturn \"combobox\";\n\t}\n\treturn null;\n}\n\nfunction getExplicitRole(element: Element): string | null {\n\tconst role = element.getAttribute(\"role\");\n\tif (role !== null) {\n\t\tconst explicitRole = role.trim().split(\" \")[0];\n\t\t// String.prototype.split(sep, limit) will always return an array with at least one member\n\t\t// as long as limit is either undefined or > 0\n\t\tif (explicitRole.length > 0) {\n\t\t\treturn explicitRole;\n\t\t}\n\t}\n\n\treturn null;\n}\n","export { getLocalName } from \"./getRole\";\nimport getRole, { getLocalName } from \"./getRole\";\n\nexport function isElement(node: Node | null): node is Element {\n\treturn node !== null && node.nodeType === node.ELEMENT_NODE;\n}\n\nexport function isHTMLTableCaptionElement(\n\tnode: Node | null\n): node is HTMLTableCaptionElement {\n\treturn isElement(node) && getLocalName(node) === \"caption\";\n}\n\nexport function isHTMLInputElement(\n\tnode: Node | null\n): node is HTMLInputElement {\n\treturn isElement(node) && getLocalName(node) === \"input\";\n}\n\nexport function isHTMLOptGroupElement(\n\tnode: Node | null\n): node is HTMLOptGroupElement {\n\treturn isElement(node) && getLocalName(node) === \"optgroup\";\n}\n\nexport function isHTMLSelectElement(\n\tnode: Node | null\n): node is HTMLSelectElement {\n\treturn isElement(node) && getLocalName(node) === \"select\";\n}\n\nexport function isHTMLTableElement(\n\tnode: Node | null\n): node is HTMLTableElement {\n\treturn isElement(node) && getLocalName(node) === \"table\";\n}\n\nexport function isHTMLTextAreaElement(\n\tnode: Node | null\n): node is HTMLTextAreaElement {\n\treturn isElement(node) && getLocalName(node) === \"textarea\";\n}\n\nexport function safeWindow(node: Node): Window {\n\tconst { defaultView } =\n\t\tnode.ownerDocument === null ? (node as Document) : node.ownerDocument;\n\n\tif (defaultView === null) {\n\t\tthrow new TypeError(\"no window available\");\n\t}\n\treturn defaultView;\n}\n\nexport function isHTMLFieldSetElement(\n\tnode: Node | null\n): node is HTMLFieldSetElement {\n\treturn isElement(node) && getLocalName(node) === \"fieldset\";\n}\n\nexport function isHTMLLegendElement(\n\tnode: Node | null\n): node is HTMLLegendElement {\n\treturn isElement(node) && getLocalName(node) === \"legend\";\n}\n\nexport function isHTMLSlotElement(node: Node | null): node is HTMLSlotElement {\n\treturn isElement(node) && getLocalName(node) === \"slot\";\n}\n\nexport function isSVGElement(node: Node | null): node is SVGElement {\n\treturn isElement(node) && (node as SVGElement).ownerSVGElement !== undefined;\n}\n\nexport function isSVGSVGElement(node: Node | null): node is SVGSVGElement {\n\treturn isElement(node) && getLocalName(node) === \"svg\";\n}\n\nexport function isSVGTitleElement(node: Node | null): node is SVGTitleElement {\n\treturn isSVGElement(node) && getLocalName(node) === \"title\";\n}\n\n/**\n *\n * @param {Node} node -\n * @param {string} attributeName -\n * @returns {Element[]} -\n */\nexport function queryIdRefs(node: Node, attributeName: string): Element[] {\n\tif (isElement(node) && node.hasAttribute(attributeName)) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- safe due to hasAttribute check\n\t\tconst ids = node.getAttribute(attributeName)!.split(\" \");\n\n\t\t// Browsers that don't support shadow DOM won't have getRootNode\n\t\tconst root = node.getRootNode\n\t\t\t? (node.getRootNode() as Document | ShadowRoot)\n\t\t\t: node.ownerDocument;\n\n\t\treturn ids\n\t\t\t.map((id) => root.getElementById(id))\n\t\t\t.filter(\n\t\t\t\t(element: Element | null): element is Element => element !== null\n\t\t\t\t// TODO: why does this not narrow?\n\t\t\t) as Element[];\n\t}\n\n\treturn [];\n}\n\nexport function hasAnyConcreteRoles(\n\tnode: Node,\n\troles: Array<string | null>\n): node is Element {\n\tif (isElement(node)) {\n\t\treturn roles.indexOf(getRole(node)) !== -1;\n\t}\n\treturn false;\n}\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","isArray","arrayLikeToArray","self","ReferenceError","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","args","Class","Reflect","construct","bind","a","push","apply","Function","prototype","arguments","toPropertyKey","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","getPrototypeOf","possibleConstructorReturn","Derived","hasNativeReflectConstruct","result","Super","NewTarget","this","constructor","obj","value","_getPrototypeOf","o","__proto__","subClass","superClass","create","fn","toString","call","indexOf","e","sham","Proxy","Boolean","valueOf","iter","Symbol","iterator","from","r","l","t","n","u","f","next","done","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","forEach","getOwnPropertyDescriptors","defineProperties","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","input","hint","prim","toPrimitive","undefined","res","String","Number","arg","minLen","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","computeAccessibleDescription","root","options","description","queryIdRefs","map","element","computeTextAlternative","_objectSpread","compute","join","title","getAttribute","toStr","isCallable","maxSafeInteger","Math","pow","toLength","number","isNaN","isFinite","floor","abs","toInteger","min","max","arrayFrom","arrayLike","mapFn","C","items","kValue","A","k","SetLike","_classCallCheck","previousLength","item","callbackfn","_this","Set","hasAbstractRole","node","role","isElement","hasAnyConcreteRoles","concat","querySelectorAllSubtree","selectors","elements","ArrayFrom","querySelectorAll","getTextualContent","declaration","content","getPropertyValue","isLabelableElement","localName","getLocalName","findLabelableElement","labelableElement","childNodes","childNode","descendantLabelableElement","getControlOfLabel","label","control","htmlFor","ownerDocument","getElementById","consultedNodes","window","safeWindow","_options$compute","_options$computedStyl","computedStyleSupportsPseudoElements","getComputedStyle","_options$getComputedS","_options$hidden","hidden","computeMiscTextAlternative","context","accumulatedText","beforeContent","isHTMLSlotElement","slot","assignedNodes","getSlotContents","child","isEmbeddedInLabel","isReferenced","recursion","separator","afterContent","trim","useAttribute","attributeName","attribute","getAttributeNode","add","computeElementTextAlternative","isHTMLFieldSetElement","children","isHTMLLegendElement","isHTMLTableElement","_children","_i","_child","isHTMLTableCaptionElement","isSVGSVGElement","_children2","_i2","_child2","isSVGTitleElement","textContent","nameFromAlt","isHTMLOptGroupElement","nameFromLabel","isHTMLInputElement","type","nameFromValue","labels","labelsProperty","getLabels","_nameFromAlt","nameFromTitle","nameFromSubTree","current","getComputedStyleImplementation","hasAttribute","style","isHidden","labelAttributeNode","labelElements","listbox","skipToStep2E","ariaLabel","isMarkedPresentational","elementTextAlternative","selectedOptions","isHTMLSelectElement","selectedOption","isHTMLTextAreaElement","allowsNameFromContent","isNativeHostLanguageTextAlternativeElement","accumulatedText2F","nodeType","TEXT_NODE","tooltipAttributeValue","computeTooltipAttributeValue","replace","computeAccessibleName","_element$localName","tagName","toLowerCase","localNameToRoleMappings","article","aside","button","datalist","dd","details","dialog","dt","fieldset","figure","form","footer","h1","h2","h3","h4","h5","h6","header","hr","html","legend","li","math","main","menu","nav","ol","optgroup","option","output","progress","section","summary","table","tbody","textarea","tfoot","td","th","thead","tr","ul","prohibitedAttributes","caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript","ignorePresentationalRole","implicitRole","some","_prohibitedAttributes","hasGlobalAriaAttributes","getRole","explicitRole","split","getExplicitRole","mappedByTag","size","getImplicitRole","ELEMENT_NODE","defaultView","ownerSVGElement","isSVGElement","ids","getRootNode","id","roles"],"sourceRoot":""}